!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o);var l=o("bpxeT"),a=o("2TvXO"),i=o("5IjG7"),s=o("h6c0i"),c=o("8H72y"),u=o("8clWC"),d={formElement:document.querySelector("#search-form"),galleryElement:document.querySelector(".gallery"),loadMoreBtnElement:document.querySelector("button.load-more")},f=new(e(i))(".gallery a"),m=new(0,c.default);function p(e,t){return h.apply(this,arguments)}function h(){return(h=e(l)(e(a).mark((function t(n,r){var o;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.fetchPhotos(n,r);case 3:if(o=e.sent,1===r&&s.Notify.success("Hooray! We found ".concat(m.total," images.")),d.galleryElement.insertAdjacentHTML("beforeend",o.map(u.default).join("")),f.refresh(),1!==r&&v(),!(m.page>=m.lastPage)){e.next=13;break}throw g(),new Error("We're sorry, but you've reached the end of search results.");case 13:y();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),s.Notify.failure(e.t0.message);case 19:case"end":return e.stop()}}),t,null,[[0,16]])})))).apply(this,arguments)}function y(){d.loadMoreBtnElement.classList.remove("is-hidden")}function g(){d.loadMoreBtnElement.classList.add("is-hidden")}function v(){var e=d.galleryElement.firstElementChild.getBoundingClientRect().height;window.scrollBy({top:window.innerHeight-e,behavior:"smooth"})}d.formElement.addEventListener("submit",(function(e){e.preventDefault(),d.galleryElement.innerHTML="",g(),p(e.target.elements.searchQuery.value,1)})),d.loadMoreBtnElement.addEventListener("click",(function(e){p(null,m.page+1)}))}();
//# sourceMappingURL=index.9819971f.js.map
